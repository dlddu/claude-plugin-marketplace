# Agile Workflow Plugin

애자일 방법론, 명세 주도 개발(SDD), 테스트 주도 개발(TDD)을 통합한 개발 워크플로우 플러그인입니다.

## 개요

이 플러그인은 소프트웨어 개발의 전체 라이프사이클을 체계적으로 관리합니다:

```
요구사항 → 명세 → 사용자 스토리 → 아키텍처 → 작업 계획 → 구현 & 테스트 → 검증
```

모든 단계는 **추적성 매트릭스**로 연결되어 요구사항부터 구현까지 완벽하게 추적할 수 있습니다.

## 핵심 원칙

### 1. 명세 주도 개발 (Spec-Driven Development)
- 코드보다 명세가 먼저
- 명확한 요구사항 없이는 개발하지 않음
- 모든 기능은 사용자 스토리로 정의

### 2. 테스트 주도 개발 (Test-Driven Development)
- 테스트가 먼저, 구현이 나중
- Red → Green → Refactor 사이클
- CI 통과가 완료의 기준

### 3. 애자일 작업 관리
- 작은 단위로 작업 분할
- 인수 테스트 기반 작업 정의
- 지속적인 피드백과 개선

## 설치

```bash
# 마켓플레이스 추가
/plugin marketplace add dlddu/claude-plugin-marketplace

# 플러그인 설치
/plugin install agile-workflow@dlddu-plugins
```

## 스킬 구성

이 플러그인은 4개의 핵심 스킬로 구성됩니다:

### 1. 명세 작성 스킬 (spec-writing)

**목적**: 요구사항을 분석하여 명세서와 사용자 스토리 작성

**산출물**:
- `docs/SPEC.md` - 요구사항 명세서
- `docs/USER-STORIES.md` - 사용자 스토리 문서

**핵심 특징**:
- 사용자 스토리의 "사용자"는 항상 **최종 사용자**
- 모든 스토리에는 **인수 테스트(Acceptance Criteria)** 포함
- Given-When-Then 형식의 테스트 시나리오

**사용 예시**:
```
사용자: 로그인 기능에 대한 명세를 작성해줘
```

### 2. 프로젝트 부트스트랩 스킬 (project-bootstrap)

**목적**: 명세 기반으로 프로젝트 초기 구조 설정

**산출물**:
- `docs/ARCHITECTURE.md` - 아키텍처 설계서
- `docs/CI-PIPELINE.md` - CI 파이프라인 설계서
- `.github/workflows/ci.yml` - GitHub Actions 워크플로우
- Hello World & Health Check 구현

**핵심 특징**:
- 명세에 맞는 아키텍처 설계
- GitHub Actions 기반 CI 파이프라인
- 기본 테스트가 통과하는 상태로 시작

**사용 예시**:
```
사용자: 프로젝트 부트스트랩 해줘
```

### 3. 작업 계획 스킬 (task-planning)

**목적**: 남은 작업을 파악하고 다음 작업 계획 수립

**산출물**:
- `docs/plans/PLAN-XXX.md` - 작업 계획서

**핵심 특징**:
- **인수 테스트 기반** 작업 분할
- **테스트 작성 시간 포함**하여 작업 크기 추정
- 우선순위와 의존성 고려한 작업 선정

**사용 예시**:
```
사용자: 다음 작업 뭐야?
```

### 4. 구현 스킬 (implementation)

**목적**: 작업 계획 기반 TDD 방식 구현

**워크플로우**:
1. 테스트 작성 (Red)
2. 최소 구현 (Green)
3. 리팩토링 (Refactor)
4. CI 검증

**핵심 특징**:
- 구현과 테스트는 **항상 동시에**
- 테스트 실패 시 **명세 먼저 확인**
- **GitHub Actions 결과**로 완료 판단

**사용 예시**:
```
사용자: TASK-001 구현 시작해
```

## 커맨드

### /generate-claude-md

프로젝트의 `CLAUDE.md` 파일을 생성합니다. 이 파일은 Claude Code 에이전트가 프로젝트의 워크플로우를 이해하고 올바르게 작업할 수 있도록 돕습니다.

**사용**:
```
/generate-claude-md
```

## 추적성 매트릭스

모든 작업은 추적성 매트릭스(`docs/TRACEABILITY-MATRIX.md`)로 관리됩니다:

```
요구사항 (REQ) → 사용자 스토리 (US) → 인수 기준 (AC) → 작업 (TASK) → 구현/테스트
```

### ID 체계

| 접두사 | 용도 | 예시 |
|--------|------|------|
| REQ-XXX | 요구사항 | REQ-001 |
| US-XXX | 사용자 스토리 | US-001 |
| AC-XXX-X | 인수 기준 | AC-001-1 |
| COMP-XXX | 컴포넌트 | COMP-001 |
| TASK-XXX | 작업 | TASK-001 |
| PLAN-XXX | 계획서 | PLAN-001 |

## 워크플로우 다이어그램

```
┌─────────────────────────────────────────────────────────────────────┐
│                        개발 워크플로우                                │
└─────────────────────────────────────────────────────────────────────┘

┌──────────────┐    ┌──────────────┐    ┌──────────────┐
│  요구사항     │ → │  명세 작성    │ → │   부트스트랩  │
│  수집        │    │  (spec-     │    │  (project-   │
│              │    │   writing)   │    │   bootstrap) │
└──────────────┘    └──────────────┘    └──────────────┘
                           │                    │
                           ▼                    ▼
                    ┌──────────────┐    ┌──────────────┐
                    │ SPEC.md      │    │ ARCHITECTURE │
                    │ USER-STORIES │    │ CI Pipeline  │
                    └──────────────┘    └──────────────┘
                           │                    │
                           └──────────┬─────────┘
                                      ▼
┌─────────────────────────────────────────────────────────────────────┐
│                      반복 개발 사이클                                 │
└─────────────────────────────────────────────────────────────────────┘

         ┌──────────────┐         ┌──────────────┐
    ┌─── │  작업 계획    │ ──────→ │    구현      │ ───┐
    │    │  (task-      │         │ (implementa- │    │
    │    │   planning)  │         │    tion)     │    │
    │    └──────────────┘         └──────────────┘    │
    │           │                        │            │
    │           ▼                        ▼            │
    │    ┌──────────────┐         ┌──────────────┐    │
    │    │ PLAN-XXX.md  │         │ 테스트 작성   │    │
    │    └──────────────┘         │ (Red)        │    │
    │                             └──────────────┘    │
    │                                    │            │
    │                                    ▼            │
    │                             ┌──────────────┐    │
    │                             │ 최소 구현     │    │
    │                             │ (Green)      │    │
    │                             └──────────────┘    │
    │                                    │            │
    │                                    ▼            │
    │                             ┌──────────────┐    │
    │                             │ 리팩토링      │    │
    │                             │ (Refactor)   │    │
    │                             └──────────────┘    │
    │                                    │            │
    │                                    ▼            │
    │                             ┌──────────────┐    │
    │                             │ CI 검증       │    │
    │                             │ (GitHub      │    │
    │                             │  Actions)    │    │
    │                             └──────────────┘    │
    │                                    │            │
    │         ┌────────────────────────────┐          │
    │         │ 추적성 매트릭스 업데이트     │          │
    │         │ (TRACEABILITY-MATRIX.md)  │          │
    │         └────────────────────────────┘          │
    │                        │                        │
    └────────────────────────┴────────────────────────┘
                   (남은 작업이 있으면 반복)
```

## 파일 구조

플러그인 설치 후 프로젝트에 생성되는 문서 구조:

```
your-project/
├── CLAUDE.md                      # Claude Code 가이드 (선택)
├── docs/
│   ├── SPEC.md                    # 요구사항 명세서
│   ├── USER-STORIES.md            # 사용자 스토리
│   ├── ARCHITECTURE.md            # 아키텍처 설계
│   ├── CI-PIPELINE.md             # CI 파이프라인 설계
│   ├── TRACEABILITY-MATRIX.md     # 추적성 매트릭스
│   └── plans/
│       ├── PLAN-001.md            # 작업 계획서 1
│       ├── PLAN-002.md            # 작업 계획서 2
│       └── ...
├── .github/
│   └── workflows/
│       └── ci.yml                 # GitHub Actions CI
├── src/                           # 소스 코드
└── tests/                         # 테스트 코드
```

## 사용 시나리오

### 새 프로젝트 시작

```bash
# 1. 명세 작성
사용자: 온라인 쇼핑몰 기능에 대한 명세를 작성해줘

# 2. 프로젝트 부트스트랩
사용자: 프로젝트 부트스트랩 해줘

# 3. 작업 계획
사용자: 다음 작업 계획 세워줘

# 4. 구현
사용자: 구현 시작해
```

### 기존 프로젝트에 기능 추가

```bash
# 1. 새 기능 명세 추가
사용자: 결제 기능에 대한 명세를 추가해줘

# 2. 작업 계획 (자동으로 새 기능 감지)
사용자: 다음 작업 뭐야?

# 3. 구현
사용자: 구현해줘
```

## 핵심 규칙 요약

| 규칙 | 설명 |
|------|------|
| 사용자 = 최종 사용자 | 사용자 스토리의 주체는 항상 실제 서비스 사용자 |
| 인수 테스트 필수 | 모든 사용자 스토리에는 검증 가능한 인수 기준 포함 |
| 구현 = 테스트 | 코드와 테스트는 항상 함께 작성 |
| 명세 우선 확인 | 테스트 실패 시 구현보다 명세를 먼저 검토 |
| CI가 기준 | 완료 여부는 GitHub Actions 통과로 판단 |
| 추적성 유지 | 모든 변경은 추적성 매트릭스에 반영 |

## 라이선스

MIT License
