---
name: generate-claude-md
description: 애자일 워크플로우 기반의 CLAUDE.md 파일을 생성합니다.
---

# CLAUDE.md 생성 커맨드

이 커맨드를 실행하면 현재 프로젝트에 애자일 워크플로우를 적용하기 위한 `CLAUDE.md` 파일을 생성합니다.

## 실행 방법

```
/generate-claude-md
```

## 수행 작업

1. 프로젝트 루트에 `CLAUDE.md` 파일 생성
2. 애자일 워크플로우 가이드라인 작성
3. 문서 디렉토리 구조 생성
4. 추적성 매트릭스 템플릿 생성

## 생성할 CLAUDE.md 내용

다음 내용으로 `CLAUDE.md` 파일을 생성하세요:

```markdown
# CLAUDE.md - 애자일 워크플로우 가이드

이 프로젝트는 애자일 방법론, 명세 주도 개발(SDD), 테스트 주도 개발(TDD)을 통합한 개발 방법론을 따릅니다.

## 개발 워크플로우

### 1. 명세 작성 (Spec Writing)
새로운 기능 개발 시 다음 순서로 진행합니다:

1. **요구사항 분석**: 사용자 요구사항을 수집하고 분석
2. **명세서 작성**: `docs/specs/SPEC-{번호}-{기능명}.md` 생성
3. **사용자 스토리 작성**: `docs/user-stories/US-{번호}-{기능명}.md` 생성
   - 사용자는 항상 **최종 사용자** 관점
   - 인수 테스트(Acceptance Test) 포함 필수
4. **추적성 매트릭스 업데이트**: `docs/traceability-matrix.md`

### 2. 프로젝트 부트스트랩 (신규 프로젝트)
새 프로젝트 시작 시:

1. **아키텍처 설계**: 명세 기반으로 `docs/architecture/ARCHITECTURE.md` 작성
2. **CI 파이프라인 설정**: `.github/workflows/ci.yml` 생성
3. **Hello World 구현**: 기본 애플리케이션 + Health Check
4. **CI 검증**: GitHub Actions 통과 확인

### 3. 작업 계획 (Task Planning)
구현 전 작업 계획 수립:

1. **진행 상황 파악**: 인수 테스트 통과 여부 확인
2. **남은 작업 식별**: 미완료 인수 테스트 목록화
3. **작업 분할**: 적절한 크기로 분할 (테스트 작성 시간 포함)
4. **작업 계획서 작성**: `docs/tasks/TASK-{번호}-{작업명}.md`

### 4. 구현 (Implementation)
TDD 방식으로 구현:

1. **RED**: 테스트 먼저 작성 (실패 확인)
2. **GREEN**: 최소한의 구현으로 테스트 통과
3. **REFACTOR**: 코드 개선 (테스트 유지)
4. **CI 검증**: GitHub Actions 통과 확인
5. **반복**: 모든 테스트 통과까지 반복

## 핵심 원칙

### 테스트 우선
- 구현과 테스트는 항상 동시에 작성
- 테스트 실패 시 테스트가 아닌 구현을 수정
- 테스트 통과 여부는 GitHub Actions 기준

### 인수 테스트 기반 판단
- 작업 완료 = 인수 테스트 통과
- 작업 분할 시 인수 테스트 단위로 분할
- 진행 상황은 인수 테스트 통과율로 측정

### 양방향 추적성
모든 산출물은 추적성 매트릭스로 연결:
```
요구사항 ↔ 명세서 ↔ 사용자 스토리 ↔ 인수 테스트 ↔ 작업 ↔ 코드
```

## 문서 구조

```
docs/
├── specs/                    # 기능 명세서
│   └── SPEC-{번호}-{기능명}.md
├── user-stories/             # 사용자 스토리 + 인수 테스트
│   └── US-{번호}-{기능명}.md
├── architecture/             # 아키텍처 문서
│   └── ARCHITECTURE.md
├── tasks/                    # 작업 계획서
│   └── TASK-{번호}-{작업명}.md
└── traceability-matrix.md    # 추적성 매트릭스
```

## 워크플로우 트리거 문구

| 스킬 | 트리거 예시 |
|-----|-----------|
| 명세 작성 | "명세 작성해줘", "요구사항 정리해줘" |
| 프로젝트 부트스트랩 | "프로젝트 초기화해줘", "CI 설정해줘" |
| 작업 계획 | "다음 작업 뭐야", "할 일 정리해줘" |
| 구현 | "구현 시작해줘", "개발 진행해줘" |

## CI/CD

- **CI 도구**: GitHub Actions
- **테스트 자동화**: 모든 push/PR에서 실행
- **검증 항목**: 빌드, 린트, 단위 테스트, 통합 테스트

## 커밋 메시지 규칙

```
{type}: {설명}

- {변경 사항}

Closes: TASK-{번호}
Related: US-{번호}, AT-{번호}
```

Type: feat, fix, docs, test, refactor, chore
```

## 추가 생성 항목

### 문서 디렉토리 생성
```bash
mkdir -p docs/{specs,user-stories,architecture,tasks}
```

### 추적성 매트릭스 템플릿 생성
`docs/traceability-matrix.md` 파일을 다음 내용으로 생성:

```markdown
# 추적성 매트릭스 (Traceability Matrix)

이 문서는 요구사항부터 구현까지의 모든 산출물을 양방향으로 추적합니다.

## 요구사항 → 구현 추적

| REQ ID | SPEC ID | US ID | AT ID | TASK ID | TC ID | 구현 상태 | CI 상태 |
|--------|---------|-------|-------|---------|-------|---------|--------|
| - | - | - | - | - | - | - | - |

## ID 규칙

- **REQ**: 원본 요구사항
- **SPEC**: 기능 명세서 (SPEC-001, SPEC-002, ...)
- **US**: 사용자 스토리 (US-001, US-002, ...)
- **AT**: 인수 테스트 (AT-001.1, AT-001.2, ...)
- **TASK**: 작업 계획서 (TASK-001, TASK-002, ...)
- **TC**: 테스트 케이스 (TC-001, TC-002, ...)

## 상태 표시

- ⬜ 미착수
- 🔄 진행중
- ✅ 완료
- ❌ 실패/블록

## 변경 이력

| 날짜 | 변경 내용 | 작성자 |
|-----|---------|-------|
| - | 초기 생성 | - |
```

## 완료 메시지

생성 완료 후 다음 메시지를 출력하세요:

```
✅ CLAUDE.md 및 문서 구조가 생성되었습니다!

생성된 파일:
- CLAUDE.md (애자일 워크플로우 가이드)
- docs/specs/ (명세서 디렉토리)
- docs/user-stories/ (사용자 스토리 디렉토리)
- docs/architecture/ (아키텍처 문서 디렉토리)
- docs/tasks/ (작업 계획서 디렉토리)
- docs/traceability-matrix.md (추적성 매트릭스)

다음 단계:
1. "명세 작성해줘"로 요구사항 정리
2. "프로젝트 초기화해줘"로 프로젝트 구조 생성
3. "다음 작업 뭐야"로 작업 계획 수립
4. "구현 시작해줘"로 개발 진행
```
