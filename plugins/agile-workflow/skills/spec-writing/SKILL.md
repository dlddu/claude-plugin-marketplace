---
name: spec-writing
description: >
  요구사항을 분석하여 명세서와 사용자 스토리를 작성합니다.
  사용자가 "명세 작성해줘", "요구사항 정리해줘", "스펙 문서 만들어줘" 등을 요청할 때 활성화됩니다.
  사용자 스토리와 인수 테스트를 포함한 체계적인 명세 문서를 생성합니다.
---

# 명세 작성 스킬 (Spec Writing Skill)

## 개요

이 스킬은 사용자의 요구사항을 체계적으로 분석하여 다음 산출물을 생성합니다:
1. **요구사항 명세서** (SPEC.md)
2. **사용자 스토리 문서** (USER-STORIES.md)
3. **추적성 매트릭스 업데이트** (TRACEABILITY-MATRIX.md)

## 핵심 원칙

### 1. 사용자 스토리 작성 원칙
- **사용자는 항상 최종 사용자(End User)입니다**
- 개발자, 시스템 관리자가 아닌 실제 서비스를 사용하는 사람의 관점에서 작성
- INVEST 원칙 준수:
  - **I**ndependent: 독립적
  - **N**egotiable: 협상 가능
  - **V**aluable: 가치 있음
  - **E**stimable: 추정 가능
  - **S**mall: 작음
  - **T**estable: 테스트 가능

### 2. 인수 테스트 작성 원칙
- 모든 사용자 스토리에는 인수 테스트가 포함되어야 함
- Given-When-Then 형식 사용
- 테스트는 명확하고 검증 가능해야 함

## 워크플로우

### Phase 1: 요구사항 수집 및 분석

1. 사용자로부터 요구사항 수집
2. 요구사항을 기능적/비기능적으로 분류
3. 우선순위 결정 (MoSCoW 방법론)
   - **M**ust have: 필수
   - **S**hould have: 권장
   - **C**ould have: 선택
   - **W**on't have: 제외

### Phase 2: 명세서 작성

`docs/SPEC.md` 파일 생성:

```markdown
# 프로젝트 명세서

## 1. 개요
- 프로젝트 목적
- 범위
- 용어 정의

## 2. 기능 요구사항
### REQ-001: [요구사항 제목]
- **설명**:
- **우선순위**: Must/Should/Could
- **관련 스토리**: US-001, US-002

## 3. 비기능 요구사항
### NFR-001: [요구사항 제목]
- **설명**:
- **측정 기준**:

## 4. 제약사항
## 5. 가정사항
```

### Phase 3: 사용자 스토리 작성

`docs/USER-STORIES.md` 파일 생성:

```markdown
# 사용자 스토리

## US-001: [스토리 제목]

### 스토리
**As a** [최종 사용자 역할],
**I want** [원하는 기능],
**So that** [얻고자 하는 가치].

### 인수 기준 (Acceptance Criteria)

#### AC-001-1: [시나리오 제목]
- **Given** [사전 조건]
- **When** [행동]
- **Then** [기대 결과]

#### AC-001-2: [시나리오 제목]
- **Given** [사전 조건]
- **When** [행동]
- **Then** [기대 결과]

### 우선순위
- [ ] Must / [ ] Should / [ ] Could

### 스토리 포인트
- 예상: [숫자]

---
```

### Phase 4: 추적성 매트릭스 업데이트

`docs/TRACEABILITY-MATRIX.md` 파일 업데이트:

| 요구사항 ID | 사용자 스토리 | 인수 테스트 | 구현 상태 | 테스트 상태 |
|------------|--------------|------------|----------|------------|
| REQ-001 | US-001 | AC-001-1, AC-001-2 | - | - |

## 산출물 체크리스트

작업 완료 전 다음 항목을 확인하세요:

- [ ] `docs/SPEC.md` 파일 생성됨
- [ ] `docs/USER-STORIES.md` 파일 생성됨
- [ ] 모든 요구사항에 고유 ID 부여됨 (REQ-XXX)
- [ ] 모든 사용자 스토리에 고유 ID 부여됨 (US-XXX)
- [ ] 모든 인수 기준에 고유 ID 부여됨 (AC-XXX-X)
- [ ] 사용자 스토리의 사용자가 최종 사용자인지 확인됨
- [ ] 모든 사용자 스토리에 인수 테스트가 포함됨
- [ ] 추적성 매트릭스가 업데이트됨
- [ ] 우선순위가 지정됨

## 사용 예시

```
사용자: 사용자 인증 기능에 대한 명세를 작성해줘

Claude: 명세 작성을 시작하겠습니다.

[Phase 1 수행]
요구사항을 분석한 결과:
- 기능적 요구사항: 로그인, 로그아웃, 회원가입, 비밀번호 재설정
- 비기능적 요구사항: 보안, 성능

[Phase 2-4 수행]
docs/SPEC.md, docs/USER-STORIES.md 생성 완료
추적성 매트릭스 업데이트 완료
```

## 관련 스킬

- **project-bootstrap**: 명세 기반 프로젝트 구조 생성
- **task-planning**: 명세 기반 작업 계획 수립
- **implementation**: 명세 기반 구현
